<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUGO JUIZ 5.0 - Sistema de Revisão Espaçada</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Adicione apenas estes estilos novos */
        .version-badge {
            background: #9c27b0;
            color: white;
            padding: 0.1rem 0.5rem;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 0.5rem;
        }
        
        .ai-recommendation {
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.2);
            border-radius: 8px;
            padding: 0.75rem;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #9c27b0;
            font-size: 0.9rem;
        }
        
        .dark-mode .ai-recommendation {
            background: rgba(156, 39, 176, 0.2);
            border-color: rgba(156, 39, 176, 0.3);
        }
        
        /* Estilos do modal AI */
        .ai-modal .modal-content {
            max-width: 500px;
            max-height: 70vh;
            display: flex;
            flex-direction: column;
        }
        
        .ai-chat {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .ai-message {
            max-width: 85%;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            line-height: 1.4;
        }
        
        .ai-message-user {
            background: var(--primary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .ai-message-assistant {
            background: var(--gray-100);
            color: var(--gray-800);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        
        .ai-input {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            border-top: 1px solid var(--gray-200);
        }
        
        .ai-input input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid var(--gray-300);
            border-radius: 24px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .ai-input input:focus {
            outline: none;
            border-color: #9c27b0;
            box-shadow: 0 0 0 3px rgba(156, 39, 176, 0.1);
        }
        
        .dark-mode .ai-message-assistant {
            background: var(--gray-700);
            color: var(--gray-100);
        }
    </style>
</head>
<body>
    <!-- Header atualizado -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <h1>HUGO JUIZ <span class="version-badge">v5.0</span></h1>
                <span class="subtitle">Sistema de Revisão Espaçada</span>
            </div>
            <div class="header-actions">
                <button class="btn btn-success" onclick="StudySystem.openAIAssistant()">
                    <i class="fas fa-robot"></i> Assistente AI
                </button>
                <div class="streak-counter">
                    <i class="fas fa-fire"></i>
                    <span id="streak-days">0</span> dias
                </div>
                <button class="btn btn-secondary" onclick="toggleDarkMode()">
                    <i class="fas fa-moon"></i> Modo Escuro
                </button>
            </div>
        </div>
    </header>

    <!-- O resto do HTML fica EXATAMENTE IGUAL à versão 4.8 -->
    <!-- Não altere nada abaixo para manter compatibilidade -->
    
    <!-- Container principal -->
    <div class="container">
        <!-- Sidebar esquerda -->
        <aside class="sidebar">
            <!-- Card de progresso atualizado -->
            <div class="card progress-card">
                <div class="card-header">
                    <h3><i class="fas fa-chart-line"></i> Progresso</h3>
                </div>
                <div class="progress-circle-container">
                    <div class="progress-circle">
                        <svg width="120" height="120">
                            <circle class="circle-bg" cx="60" cy="60" r="50"></circle>
                            <circle class="circle-progress" cx="60" cy="60" r="50"></circle>
                        </svg>
                        <div class="progress-text">
                            <span id="overall-progress">0%</span>
                        </div>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="total-disciplines">0</div>
                        <div class="stat-label">Disciplinas</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="today-reviews">0</div>
                        <div class="stat-label">Revisões Hoje</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="mastered-topics">0</div>
                        <div class="stat-label">Dominados</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="high-priority-count">0</div>
                        <div class="stat-label">Alta Prioridade</div>
                    </div>
                </div>
                <!-- Nova seção de recomendações AI -->
                <div class="ai-recommendation" id="ai-recommendation">
                    <i class="fas fa-lightbulb"></i>
                    <span>Carregando recomendações...</span>
                </div>
            </div>

            <!-- Formulário de adição de disciplina (MANTIDO IGUAL) -->
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-plus-circle"></i> Adicionar Disciplina</h3>
                </div>
                <form id="add-discipline-form" class="discipline-form">
                    <!-- Mantenha todo o formulário igual -->
                </form>
            </div>

            <!-- Ações rápidas (MANTIDO IGUAL) -->
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-bolt"></i> Ações Rápidas</h3>
                </div>
                <div class="quick-actions">
                    <button class="btn btn-outline" onclick="exportData()">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                    <button class="btn btn-outline" onclick="importData()">
                        <i class="fas fa-upload"></i> Importar
                    </button>
                    <button class="btn btn-danger" onclick="resetAllProgress()">
                        <i class="fas fa-redo"></i> Resetar
                    </button>
                </div>
            </div>
        </aside>

        <!-- Conteúdo principal (MANTIDO IGUAL) -->
        <main class="main-content">
            <!-- Tabs (MANTIDAS IGUAIS) -->
            <div class="tabs">
                <button class="tab active" onclick="showTab('today')" id="tab-today">
                    <i class="fas fa-calendar-day"></i> Hoje
                </button>
                <button class="tab" onclick="showTab('all')" id="tab-all">
                    <i class="fas fa-book"></i> Todas
                </button>
                <button class="tab" onclick="showTab('overdue')" id="tab-overdue">
                    <i class="fas fa-exclamation-circle"></i> Atrasadas
                </button>
                <button class="tab" onclick="showTab('mastered')" id="tab-mastered">
                    <i class="fas fa-check-circle"></i> Dominadas
                </button>
            </div>

            <!-- Search e filtros (MANTIDOS IGUAIS) -->
            <div class="search-filter">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Buscar disciplina...">
                </div>
                <select id="sort-by" onchange="sortDisciplines()">
                    <option value="performance-granular">Prioridade Inteligente</option>
                    <option value="weight">Peso do Edital</option>
                    <option value="performance">Desempenho</option>
                    <option value="progress">Progresso</option>
                    <option value="name">Nome</option>
                    <option value="next-review">Próxima Revisão</option>
                </select>
            </div>

            <!-- View controls (MANTIDOS IGUAIS) -->
            <div class="view-controls">
                <div class="view-mode-selector">
                    <button class="view-mode-btn active" data-mode="cards">
                        <i class="fas fa-th-large"></i> Cards
                    </button>
                    <button class="view-mode-btn" data-mode="table">
                        <i class="fas fa-table"></i> Tabela
                    </button>
                    <button class="view-mode-btn" data-mode="weak-topics">
                        <i class="fas fa-exclamation-triangle"></i> Críticos
                    </button>
                </div>
            </div>

            <!-- Container de disciplinas (MANTIDO IGUAL) -->
            <div class="disciplines-grid" id="disciplines-container">
                <!-- Disciplinas carregadas aqui -->
            </div>

            <!-- Paginação (MANTIDA IGUAL) -->
            <div class="pagination">
                <button class="btn btn-outline" onclick="prevPage()">
                    <i class="fas fa-chevron-left"></i> Anterior
                </button>
                <span id="page-info">Página 1 de 1</span>
                <button class="btn btn-outline" onclick="nextPage()">
                    Próxima <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <!-- Dashboard (MANTIDO IGUAL) -->
            <div class="card performance-dashboard-card">
                <div class="card-header">
                    <h3><i class="fas fa-chart-line"></i> Dashboard</h3>
                </div>
                <div class="card-body" id="performance-dashboard">
                    <!-- Dashboard renderizado aqui -->
                </div>
            </div>
        </main>

        <!-- Painel direito (MANTIDO IGUAL) -->
        <aside class="right-panel">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-tasks"></i> Revisões Hoje</h3>
                </div>
                <div class="reviews-list" id="today-reviews-list">
                    <!-- Revisões de hoje -->
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-calendar-alt"></i> Calendário</h3>
                </div>
                <div class="calendar" id="review-calendar">
                    <!-- Calendário -->
                </div>
            </div>
        </aside>
    </div>

    <!-- Modais existentes (MANTIDOS IGUAIS) -->
    <div id="discipline-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Editar Disciplina</h3>
                <button class="close-modal" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>

    <div id="confirm-modal" class="modal">
        <div class="modal-content confirm-modal">
            <div class="modal-header">
                <h3 id="confirm-title">Confirmação</h3>
                <button class="close-modal" onclick="closeConfirmModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirm-message">Tem certeza?</p>
                <div class="modal-actions">
                    <button class="btn btn-outline" onclick="closeConfirmModal()">Cancelar</button>
                    <button class="btn btn-danger" id="confirm-action-btn">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- NOVO: Modal do Assistente AI -->
    <div id="ai-assistant-modal" class="modal">
        <div class="modal-content ai-modal">
            <div class="modal-header">
                <h3><i class="fas fa-robot"></i> Assistente AI de Estudos</h3>
                <button class="close-modal" onclick="StudySystem.closeAIModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ai-chat" id="ai-chat">
                    <!-- Mensagens do chat aparecerão aqui -->
                </div>
                <div class="ai-input">
                    <input type="text" id="ai-message" placeholder="Pergunte sobre seus estudos..." onkeypress="if(event.key === 'Enter') StudySystem.sendAIMessage()">
                    <button class="btn btn-primary" onclick="StudySystem.sendAIMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
<!-- Rodapé com Guia de Perguntas AI -->
<footer class="footer-guide">
    <div class="guide-container">
        <div class="guide-header">
            <h3><i class="fas fa-robot"></i> Guia de Perguntas para o Assistente AI</h3>
            <button class="guide-toggle" onclick="toggleGuide()">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>
        
        <div class="guide-content" id="guide-content">
            <div class="guide-categories">
                <!-- Categoria 1 -->
                <div class="category">
                    <h4><i class="fas fa-chart-line"></i> Análise de Progresso</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">Como está meu progresso geral?</li>
                        <li onclick="useQuestion(this)">Quais minhas estatísticas atuais?</li>
                        <li onclick="useQuestion(this)">Como estou de desempenho?</li>
                        <li onclick="useQuestion(this)">Mostre minha evolução</li>
                    </ul>
                </div>
                
                <!-- Categoria 2 -->
                <div class="category">
                    <h4><i class="fas fa-bullseye"></i> Prioridades de Estudo</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">O que devo estudar hoje?</li>
                        <li onclick="useQuestion(this)">Quais são minhas prioridades?</li>
                        <li onclick="useQuestion(this)">Onde devo focar agora?</li>
                        <li onclick="useQuestion(this)">Quais matérias revisar primeiro?</li>
                    </ul>
                </div>
                
                <!-- Categoria 3 -->
                <div class="category">
                    <h4><i class="fas fa-exclamation-triangle"></i> Áreas de Dificuldade</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">Quais minhas áreas fracas?</li>
                        <li onclick="useQuestion(this)">Onde tenho mais dificuldade?</li>
                        <li onclick="useQuestion(this)">Mostre meus pontos críticos</li>
                        <li onclick="useQuestion(this)">Quais tópicos preciso melhorar?</li>
                    </ul>
                </div>
                
                <!-- Categoria 4 -->
                <div class="category">
                    <h4><i class="fas fa-calendar-alt"></i> Planejamento</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">Crie um plano de estudos</li>
                        <li onclick="useQuestion(this)">Planeje minha semana</li>
                        <li onclick="useQuestion(this)">Qual cronograma devo seguir?</li>
                        <li onclick="useQuestion(this)">Como organizar meu tempo?</li>
                    </ul>
                </div>
                
                <!-- Categoria 5 -->
                <div class="category">
                    <h4><i class="fas fa-book"></i> Disciplinas Específicas</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">Como estou em Direito Civil?</li>
                        <li onclick="useQuestion(this)">Analise meu desempenho em Constitucional</li>
                        <li onclick="useQuestion(this)">Preciso melhorar em Português?</li>
                        <li onclick="useQuestion(this)">Qual meu progresso em Matemática?</li>
                    </ul>
                </div>
                
                <!-- Categoria 6 -->
                <div class="category">
                    <h4><i class="fas fa-lightbulb"></i> Dicas e Técnicas</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">Dê dicas para melhorar</li>
                        <li onclick="useQuestion(this)">Como estudar mais eficiente?</li>
                        <li onclick="useQuestion(this)">Técnicas de revisão espaçada</li>
                        <li onclick="useQuestion(this)">Como memorizar melhor?</li>
                    </ul>
                </div>
                
                <!-- Categoria 7 -->
                <div class="category">
                    <h4><i class="fas fa-question-circle"></i> Uso do Sistema</h4>
                    <ul class="question-list">
                        <li onclick="useQuestion(this)">Como usar o Hugo Juiz melhor?</li>
                        <li onclick="useQuestion(this)">Quais funcionalidades você tem?</li>
                        <li onclick="useQuestion(this)">Me ensine a usar o sistema</li>
                        <li onclick="useQuestion(this)">O que você pode fazer por mim?</li>
                    </ul>
                </div>
            </div>
            
            <!-- Exemplos Práticos -->
            <div class="practical-examples">
                <h4><i class="fas fa-magic"></i> Exemplos Práticos</h4>
                <div class="examples-grid">
                    <div class="example-card" onclick="useExample(this)">
                        <div class="example-icon">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <div class="example-content">
                            <p>"Tenho prova em 15 dias, me ajude a planejar"</p>
                            <small>Clique para usar</small>
                        </div>
                    </div>
                    
                    <div class="example-card" onclick="useExample(this)">
                        <div class="example-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="example-content">
                            <p>"Estou com 60% em uma matéria, o que fazer?"</p>
                            <small>Clique para usar</small>
                        </div>
                    </div>
                    
                    <div class="example-card" onclick="useExample(this)">
                        <div class="example-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <div class="example-content">
                            <p>"Quero focar nas matérias com peso maior"</p>
                            <small>Clique para usar</small>
                        </div>
                    </div>
                    
                    <div class="example-card" onclick="useExample(this)">
                        <div class="example-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="example-content">
                            <p>"Estou desmotivado, me dê um incentivo"</p>
                            <small>Clique para usar</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dicas de Uso -->
            <div class="usage-tips">
                <h4><i class="fas fa-tips"></i> Dicas para Melhores Respostas</h4>
                <div class="tips-grid">
                    <div class="tip">
                        <i class="fas fa-check-circle"></i>
                        <span>Seja específico nas perguntas</span>
                    </div>
                    <div class="tip">
                        <i class="fas fa-check-circle"></i>
                        <span>Mencione o nome da matéria</span>
                    </div>
                    <div class="tip">
                        <i class="fas fa-check-circle"></i>
                        <span>Informe prazos quando relevante</span>
                    </div>
                    <div class="tip">
                        <i class="fas fa-check-circle"></i>
                        <span>Use português natural</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="guide-footer">
            <p>Clique em qualquer pergunta para usar no Assistente AI</p>
            <button class="btn btn-small btn-primary" onclick="StudySystem.openAIAssistant()">
                <i class="fas fa-robot"></i> Abrir Assistente AI
            </button>
        </div>
    </div>
</footer>
</html>